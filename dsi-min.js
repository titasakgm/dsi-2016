Ext.require("Ext.container.Viewport Ext.layout.container.Border GeoExt.tree.Panel Ext.tree.plugin.TreeViewDragDrop GeoExt.panel.Map GeoExt.tree.OverlayLayerContainer GeoExt.tree.BaseLayerContainer GeoExt.data.LayerTreeModel GeoExt.tree.View GeoExt.tree.Column GeoExt.ux.GoogleEarthPanel GeoExt.ux.GoogleEarthClick GeoExt.data.MapfishPrintProvider GeoExt.panel.PrintMap GeoExt.window.Popup Ext.form.Panel Ext.layout.container.Column Ext.layout.container.Accordion Ext.layout.container.Border Ext.tab.Panel Ext.form.field.ComboBox Ext.form.field.Date Ext.form.field.HtmlEditor GeoExt.data.FeatureStore GeoExt.data.proxy.Protocol".split(" "));
Ext.application({name:"Tree",launch:function(){function p(k,a){var b=new Ext.Window({id:"radii",width:200,constrain:!0,collapsible:!0,layout:"fit",title:"\u0e23\u0e30\u0e1a\u0e38\u0e23\u0e31\u0e28\u0e21\u0e35\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23",items:[{xtype:"combo",allowBlank:!1,name:"Radius",forceSelection:!0,editable:!1,fieldLabel:"\u0e23\u0e31\u0e28\u0e21\u0e35",labelWidth:50,emptyText:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e23\u0e30\u0e22\u0e30\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23...",
store:new Ext.data.SimpleStore({fields:["radius","value"],data:[["100 \u0e40\u0e21\u0e15\u0e23","100"],["200 \u0e40\u0e21\u0e15\u0e23","200"],["500 \u0e40\u0e21\u0e15\u0e23","500"],["1 \u0e01.\u0e21.","1000"],["5 \u0e01.\u0e21.","5000"],["10 \u0e01.\u0e21.","10000"]]}),displayField:"radius",valueField:"value",selectOnFocus:!0,mode:"local",triggerAction:"all",listeners:{select:function(b,d,l){b={strokeColor:"#FF0000",fillColor:"#FF7373",fillOpacity:.5};l={strokeColor:"#FFE400",fillColor:"#FFF073",
fillOpacity:.5};var f={strokeColor:"#2BBE00",fillColor:"#92ED6B",fillOpacity:.5},g=b;d=d[0].data.value;if(g=a.features[a.features.length-1]){var g=g.geometry.getCentroid(),e=k.getProjectionObject(),e=OpenLayers.Geometry.Polygon.createGeodesicPolygon(g,d,40,45,e),g=501>parseInt(d)?b:5001>parseInt(d)?l:f;b=new OpenLayers.Feature.Vector(e,null,g);a.addFeatures([b])}}}}]});b.show();b.alignTo(Ext.getDom(k.div.id),"tr-tr",[-150,6])}var m=(new OpenLayers.LonLat(100.5657899,13.89071588)).transform(gcs,merc),
f=new OpenLayers.Control.NavigationHistory;OpenLayers.ProxyHost="/cgi-bin/proxy.cgi?url=";map=new OpenLayers.Map({projection:new OpenLayers.Projection("EPSG:900913"),displayProjection:new OpenLayers.Projection("EPSG:4326"),units:"m",maxResolution:156543.0339,maxExtent:new OpenLayers.Bounds(-2.003750834E7,-2.003750834E7,2.003750834E7,2.003750834E7),controls:[new OpenLayers.Control.PanZoomBar,new OpenLayers.Control.MousePosition,new OpenLayers.Control.Navigation,new OpenLayers.Control.LayerSwitcher,
new OpenLayers.Control.OverviewMap,new OpenLayers.Control.ScaleLine({geodesic:!0}),f]});map.events.register("click",map,function(a){a=map.getLonLatFromViewPortPx(a.xy).transform(merc,gcs);var b=map.getLayersBy("visibility",!0);for(i=0;i<b.length;i++)-1==b[i].name.search("\u0e40\u0e02\u0e15")&&-1==b[i].name.search("\u0e0a\u0e32\u0e22\u0e40\u0e25\u0e19")||check_forest_info(b[i].name,a)});map.events.register("changelayer",null,function(a){"Google Earth"==a.layer.name&&(a=Ext.getCmp("id_east"),a.collapsed?
a.expand():a.collapse())});create_styles();create_layer_vectorLayer();create_layer_markers();create_layer_hili();var b=[],a;a=Ext.create("GeoExt.Action",{tooltip:"\u0e01\u0e25\u0e31\u0e1a\u0e2a\u0e39\u0e48\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48\u0e40\u0e23\u0e34\u0e48\u0e21\u0e15\u0e49\u0e19",iconCls:"zoomfull",handler:function(){map.setCenter(m,5)},allowDepress:!1});b.push(Ext.create("Ext.button.Button",a));a=Ext.create("GeoExt.Action",{tooltip:"\u0e44\u0e1b\u0e22\u0e31\u0e07\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19",
iconCls:"my_location",handler:function(){Ext.Ajax.request({url:"rb/get_lonlat_from_ip.rb",params:{method:"GET",format:"json"},failure:function(a,b){alert("get_lonlat_from_ip.rb > failure");return!1},success:function(a,b){var d=Ext.decode(a.responseText),e=parseFloat(d.lon),d=parseFloat(d.lat);p2=(new OpenLayers.LonLat(e,d)).transform(gcs,merc);map.setCenter(p2,8);e=new OpenLayers.Size(48,48);d=new OpenLayers.Pixel(-(e.w/2),-e.h);e=new OpenLayers.Icon("img/my_locationx.png",e,d);markers.addMarker(new OpenLayers.Marker(p2,
e))}})},allowDepress:!1});b.push(Ext.create("Ext.button.Button",a));b.push("-");a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.ZoomBox,tooltip:"\u0e02\u0e22\u0e32\u0e22\u0e02\u0e19\u0e32\u0e14\u0e20\u0e32\u0e1e\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48 (\u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21 Shift \u0e04\u0e49\u0e32\u0e07\u0e44\u0e27\u0e49\u0e08\u0e32\u0e01\u0e19\u0e31\u0e49\u0e19 Click Mouse \u0e1b\u0e38\u0e48\u0e21\u0e0b\u0e49\u0e32\u0e22\u0e21\u0e37\u0e2d\u0e04\u0e49\u0e32\u0e07\u0e44\u0e27\u0e49\u0e41\u0e25\u0e49\u0e27\u0e25\u0e32\u0e01\u0e40\u0e1b\u0e47\u0e19\u0e01\u0e23\u0e2d\u0e1a\u0e2a\u0e35\u0e48\u0e40\u0e2b\u0e25\u0e35\u0e48\u0e22\u0e21\u0e44\u0e14\u0e49)",
map:map,iconCls:"zoomin",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.ZoomBox({out:!0}),tooltip:"\u0e22\u0e48\u0e2d\u0e02\u0e19\u0e32\u0e14\u0e20\u0e32\u0e1e\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48 (\u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21 Shift \u0e04\u0e49\u0e32\u0e07\u0e44\u0e27\u0e49\u0e08\u0e32\u0e01\u0e19\u0e31\u0e49\u0e19 Click Mouse \u0e1b\u0e38\u0e48\u0e21\u0e0b\u0e49\u0e32\u0e22\u0e21\u0e37\u0e2d\u0e04\u0e49\u0e32\u0e07\u0e44\u0e27\u0e49\u0e41\u0e25\u0e49\u0e27\u0e25\u0e32\u0e01\u0e40\u0e1b\u0e47\u0e19\u0e01\u0e23\u0e2d\u0e1a\u0e2a\u0e35\u0e48\u0e40\u0e2b\u0e25\u0e35\u0e48\u0e22\u0e21\u0e44\u0e14\u0e49)",
map:map,iconCls:"zoomout",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.DragPan({isDefault:!0}),tooltip:"\u0e40\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48\u0e44\u0e1b\u0e43\u0e19\u0e17\u0e34\u0e28\u0e17\u0e32\u0e07\u0e15\u0e48\u0e32\u0e07\u0e46",map:map,iconCls:"pan",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));b.push("-");a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.DrawFeature(vectorLayer,
OpenLayers.Handler.Point),tooltip:"\u0e27\u0e32\u0e07\u0e08\u0e38\u0e14\u0e1a\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48",map:map,iconCls:"drawpoint",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.SelectFeature(vectorLayer,{hover:!1,eventListeners:{featurehighlighted:function(){p(map,vectorLayer)},featureunhighlighted:function(){Ext.getCmp("radii").hide();Ext.MessageBox.show({title:"\u0e04\u0e33\u0e41\u0e19\u0e30\u0e19\u0e33",
msg:'\u0e17\u0e48\u0e32\u0e19\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21 <img src="img/delete.png"/> \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e25\u0e1a\u0e01\u0e32\u0e23\u0e41\u0e2a\u0e14\u0e07\u0e1c\u0e25 Buffer Zone',buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.INFO})}}}),tooltip:"\u0e27\u0e32\u0e14 Buffer \u0e23\u0e2d\u0e1a\u0e08\u0e38\u0e14\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e1a\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35 \u0e01\u0e48\u0e2d\u0e19\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19 \u0e01\u0e23\u0e38\u0e13\u0e32\u0e2a\u0e23\u0e49\u0e32\u0e07\u0e08\u0e38\u0e14\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e01\u0e48\u0e2d\u0e19\u0e42\u0e14\u0e22\u0e43\u0e0a\u0e49\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e21\u0e37\u0e2d \u0e27\u0e32\u0e07\u0e08\u0e38\u0e14\u0e1a\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48\u0e01\u0e48\u0e2d\u0e19 \u0e01\u0e14\u0e1b\u0e38\u0e48\u0e21\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e21\u0e37\u0e2d\u0e19\u0e35\u0e49 \u0e08\u0e32\u0e01\u0e19\u0e31\u0e49\u0e19\u0e19\u0e33 mouse \u0e44\u0e1b click \u0e40\u0e25\u0e37\u0e2d\u0e01\u0e08\u0e38\u0e14\u0e14\u0e31\u0e07\u0e01\u0e25\u0e48\u0e32\u0e27",
map:map,iconCls:"add_buffer",toggleGroup:"map",allowDepress:!0});b.push(Ext.create("Ext.button.Button",a));a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.DrawFeature(vectorLayer,OpenLayers.Handler.Path),tooltip:"\u0e27\u0e32\u0e14\u0e40\u0e2a\u0e49\u0e19\u0e15\u0e23\u0e07\u0e1a\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48",map:map,iconCls:"drawline",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.DrawFeature(vectorLayer,
OpenLayers.Handler.Polygon),tooltip:"\u0e27\u0e32\u0e14\u0e23\u0e39\u0e1b\u0e2b\u0e25\u0e32\u0e22\u0e40\u0e2b\u0e25\u0e35\u0e48\u0e22\u0e21\u0e1a\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48",map:map,iconCls:"drawpolygon",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));b.push("-");a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.ModifyFeature(vectorLayer),tooltip:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e08\u0e38\u0e14\u0e17\u0e35\u0e48\u0e1b\u0e23\u0e32\u0e01\u0e0f\u0e1a\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48 (\u0e15\u0e49\u0e2d\u0e07 Click Mouse \u0e1a\u0e19\u0e08\u0e38\u0e14/\u0e40\u0e2a\u0e49\u0e19/\u0e23\u0e39\u0e1b\u0e2b\u0e25\u0e32\u0e22\u0e40\u0e2b\u0e25\u0e35\u0e48\u0e22\u0e21 \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e01\u0e33\u0e2b\u0e19\u0e14\u0e2a\u0e34\u0e48\u0e07\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e01\u0e48\u0e2d\u0e19\u0e17\u0e33\u0e01\u0e32\u0e23\u0e41\u0e01\u0e49\u0e44\u0e02)",
map:map,iconCls:"modifyfeature",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.DeleteFeature(vectorLayer),tooltip:"\u0e25\u0e1a\u0e17\u0e35\u0e25\u0e30\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23 \u0e08\u0e38\u0e14/\u0e40\u0e2a\u0e49\u0e19/\u0e23\u0e39\u0e1b\u0e2b\u0e25\u0e32\u0e22\u0e40\u0e2b\u0e25\u0e35\u0e48\u0e22\u0e21",map:map,iconCls:"deletefeature",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));a=Ext.create("GeoExt.Action",
{control:new OpenLayers.Control.SelectFeature(vectorLayer),tooltip:"\u0e25\u0e1a\u0e17\u0e38\u0e01\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e17\u0e35\u0e48\u0e1b\u0e23\u0e32\u0e01\u0e0f\u0e1a\u0e19\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48",map:map,iconCls:"deleteallfeature",toggleGroup:"map",handler:function(){vectorLayer&&vectorLayer.features&&vectorLayer.removeFeatures(vectorLayer.features);kml&&kml.features&&(kml.removeFeatures(kml.features),map.removeLayer(kml));Ext.getCmp("radii")&&Ext.getCmp("radii").hide()},
allowDepress:!0});b.push(Ext.create("Ext.button.Button",a));b.push("-");a=Ext.create("GeoExt.Action",{control:new OpenLayers.Control.DrawFeature(vectorLayer,OpenLayers.Handler.Point,{featureAdded:function(a){lon=a.geometry.x;lat=a.geometry.y;a=new OpenLayers.LonLat(lon,lat);a.transform(merc,gcs);lon=a.lon;lat=a.lat;a="http://maps.googleapis.com/maps/api/streetview?size=400x400&location="+lat+","+lon;Ext.create("Ext.window.Window",{title:"<a href='http://maps.google.com/maps?q=&layer=c&cbll="+lat+
","+lon+"&cbp=12,0,0,0,0&output=svembed' target='_blank'>Google Street View</a> <font color='red'><b>\u0e17\u0e48\u0e32\u0e19\u0e2a\u0e32\u0e21\u0e32\u0e23\u0e16\u0e43\u0e0a\u0e49\u0e40\u0e21\u0e49\u0e32\u0e2a\u0e4c\u0e04\u0e25\u0e34\u0e01\u0e17\u0e35\u0e48 link \u0e14\u0e49\u0e32\u0e19\u0e0b\u0e49\u0e32\u0e22\u0e21\u0e37\u0e2d\u0e44\u0e14\u0e49</b></font>",width:450,height:450,layout:"fit",closable:!0,html:"<center><img src='"+(a+"&sensor=false&key=AIzaSyBa-Aed1-QisFrEs2Vnc0f3hfu_fWgXIl4")+"' /></center>"}).show()}}),
tooltip:"\u0e41\u0e2a\u0e14\u0e07\u0e20\u0e32\u0e1e\u0e08\u0e32\u0e01 Google Street View",map:map,iconCls:"show_gsv",toggleGroup:"map"});b.push(Ext.create("Ext.button.Button",a));b.push("-");a=Ext.create("GeoExt.Action",{iconCls:"info",id:"id_select_feat",control:frm_input_ctrl,tooltip:"\u0e41\u0e1a\u0e1a\u0e1f\u0e2d\u0e23\u0e4c\u0e21\u0e19\u0e33\u0e40\u0e02\u0e49\u0e32\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e08\u0e32\u0e01\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19",map:map,enableToggle:!0,
toggleGroup:"map",allowDepress:!0,handler:function(){pointLayer&&1==pointLayer.visibility&&pointLayer.setVisibility(!1)}});b.push(Ext.create("Ext.button.Button",a));a=new Ext.Button({iconCls:"add_layer",tooltip:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e0a\u0e31\u0e49\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19",enableToggle:!1,pressed:!1,handler:function(){"add_layer"==this.iconCls?(pointLayer&&(map.removeLayer(pointLayer),pointLayer=
null),create_layer_pointLayer(),map.addLayer(pointLayer),this.setIconCls("del_layer"),this.setTooltip("\u0e25\u0e1a\u0e0a\u0e31\u0e49\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19")):(map.removeLayer(pointLayer),pointLayer=null,this.setIconCls("add_layer"),this.setTooltip("\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e0a\u0e31\u0e49\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e02\u0e2d\u0e07\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49\u0e07\u0e32\u0e19"))}});
b.push(a);a=new Ext.Button({iconCls:"del_feature_in_layer",tooltip:"\u0e25\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e10\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 \u0e42\u0e14\u0e22 click mouse \u0e13 \u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e25\u0e1a",enableToggle:!0,handler:function(a){a.pressed?(ctrl_popup_pointLayer.deactivate(),del_feat_ctrl.activate()):(ctrl_popup_pointLayer.activate(),
del_feat_ctrl.deactivate())},toggleGroup:"map",pressed:!1});b.push(a);b.push("-");ctrl_measure_length=new OpenLayers.Control.Measure(OpenLayers.Handler.Path,{persist:!0,geodesic:!0,displaySystem:"metric",eventListeners:{measure:function(a){var b="km"==a.units?"\u0e01\u0e34\u0e42\u0e25\u0e40\u0e21\u0e15\u0e23":"\u0e40\u0e21\u0e15\u0e23";Ext.Msg.show({title:"Result",msg:"\u0e23\u0e30\u0e22\u0e30\u0e17\u0e32\u0e07\u0e23\u0e27\u0e21 \u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13 "+numberWithCommas(a.measure.toFixed(2))+
" "+b,buttons:Ext.Msg.OK,icon:Ext.Msg.INFO})}}});map.addControl(ctrl_measure_length);a=new Ext.Button({iconCls:"measure_length",tooltip:"\u0e27\u0e31\u0e14\u0e23\u0e30\u0e22\u0e30\u0e17\u0e32\u0e07",enableToggle:!1,handler:function(a){a.pressed?(ctrl_measure_area.deactivate(),ctrl_measure_length.activate()):ctrl_measure_length.deactivate()},toggleGroup:"grp_measure",pressed:!1});b.push(a);ctrl_measure_area=new OpenLayers.Control.Measure(OpenLayers.Handler.Polygon,{eventListeners:{measure:function(a){var b=
"km"==a.units?"\u0e15\u0e32\u0e23\u0e32\u0e07\u0e01\u0e34\u0e42\u0e25\u0e40\u0e21\u0e15\u0e23":"\u0e15\u0e32\u0e23\u0e32\u0e07\u0e40\u0e21\u0e15\u0e23";Ext.Msg.show({title:"Result",msg:"\u0e1e\u0e37\u0e49\u0e19\u0e17\u0e35\u0e48\u0e23\u0e27\u0e21 \u0e1b\u0e23\u0e30\u0e21\u0e32\u0e13 "+numberWithCommas(a.measure.toFixed(2))+" "+b,buttons:Ext.Msg.OK,icon:Ext.Msg.INFO})}}});map.addControl(ctrl_measure_area);a=new Ext.Button({iconCls:"measure_area",tooltip:"\u0e04\u0e33\u0e19\u0e27\u0e13\u0e1e\u0e37\u0e49\u0e19\u0e17\u0e35\u0e48",
enableToggle:!1,handler:function(a){a.pressed?(ctrl_measure_length.deactivate(),ctrl_measure_area.activate()):ctrl_measure_area.deactivate()},toggleGroup:"grp_measure",pressed:!1});b.push(a);var e=null;button=Ext.create("Ext.Button",{tooltip:"\u0e41\u0e2a\u0e14\u0e07 Lat/Long Grid",iconCls:"grid1",enableToggle:!0,handler:function(){1==(c=map.getControlsByClass("OpenLayers.Control.Graticule")).length?(e.destroy(),e=null):(e=new OpenLayers.Control.Graticule({layerName:"Lat/Long Grid",displayInLayerSwitcher:!1,
hideInTree:!0,lineSymbolizer:{strokeColor:"#FFFF7F",strokeWidth:1,strokeOpacity:.5},labelSymbolizer:{fontColor:"#FFFF00",fontWeight:"bold"}}),map.addControl(e))}});b.push(button);button=Ext.create("Ext.Button",{tooltip:"\u0e41\u0e2a\u0e14\u0e07 UTM Grid",iconCls:"grid2",enableToggle:!0,handler:function(){0==d.visibility?d.setVisibility(!0):d.setVisibility(!1)}});b.push(button);b.push("-");a=Ext.create("GeoExt.Action",{tooltip:"Previous view",control:f.previous,iconCls:"back",disabled:!0});b.push(Ext.create("Ext.button.Button",
a));a=Ext.create("GeoExt.Action",{tooltip:"Next view",control:f.next,iconCls:"next",disabled:!0});b.push(Ext.create("Ext.button.Button",a));b.push("->");var h,n;n=Ext.create("GeoExt.data.MapfishPrintProvider",{method:"GET",capabilities:printCapabilities,customParams:{mapTitle:"GeoExt Printing Demo",comment:"This demo shows how to use GeoExt.PrintMapPanel"}});f=new Ext.Button({iconCls:"print_preview",tooltip:"\u0e14\u0e39\u0e20\u0e32\u0e1e Preview \u0e41\u0e25\u0e30\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48 (\u0e01\u0e23\u0e38\u0e13\u0e32 Zoom \u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48\u0e15\u0e32\u0e21\u0e04\u0e27\u0e32\u0e21\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e2d\u0e35\u0e01\u0e04\u0e23\u0e31\u0e49\u0e07)",
handler:function(){h=Ext.create("Ext.Window",{title:"<font color='#FF7000'>Print Preview</font>",id:"id_printDialog",layout:"fit",width:400,autoHeight:!0,items:[{xtype:"gx_printmappanel",id:"id_preview",sourceMap:mapPanel,printProvider:n}],bbar:[{iconCls:"print",tooltip:"Print Map",handler:function(){$("#id_preview-body").printElement({printMode:"popup"});return!1}},"->",{iconCls:"close",tooltip:"Close",handler:function(){Ext.getCmp("id_printDialog").close()}}]});h.center();h.show()}});b.push(f);
new Ext.form.ComboBox({width:55,id:"id_icon_num",emptyText:"Icon",listConfig:{getInnerTpl:function(){return'<div><img src="img/{icon}.png" align="center" width="16" height="16" /></div>'}},store:new Ext.data.SimpleStore({data:[["x1","1"],["x2","2"],["x3","3"],["x4","4"],["x5","5"],["x6","6"],["x7","7"],["x8","8"],["x9","9"]],id:0,fields:["icon","text"]}),valueField:"icon",displayField:"text",triggerAction:"all",editable:!1,name:"icon_num",handler:function(){pointLayer.styleMap=styleMapNumber}});var d=
new OpenLayers.Layer.WMS("UTM Grid","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-thai.map",layers:"utm_wgs",transparent:!0},{isBaseLayer:!1,visibility:!1});d.displayInLayerSwitcher=!1;d.hideInTree=!0;d.setVisibility(!1);bing_road=new OpenLayers.Layer.Bing({name:"Bing Road",key:"AnXErkelqCPb0UC5K-lCookgNa4-IwF1Cehgg9En9wcFz7iGblBxbZfm4484_qqK",type:"Road",iconCls:"bing"});bing_road.isBaseLayer=!0;bing_hybrid=new OpenLayers.Layer.Bing({name:"Bing Hybrid",key:"AnXErkelqCPb0UC5K-lCookgNa4-IwF1Cehgg9En9wcFz7iGblBxbZfm4484_qqK",
type:"AerialWithLabels",iconCls:"bing"});bing_hybrid.isBaseLayer=!0;bing_aerial=new OpenLayers.Layer.Bing({name:"Bing Aerial",key:"AnXErkelqCPb0UC5K-lCookgNa4-IwF1Cehgg9En9wcFz7iGblBxbZfm4484_qqK",type:"Aerial",iconCls:"bing"});bing_aerial.isBaseLayer=!0;mapPanel=Ext.create("GeoExt.panel.Map",{border:!0,region:"center",margins:"5 5 0 0",map:map,center:m,zoom:6,layers:[new OpenLayers.Layer.WMS("\u0e1b\u0e48\u0e32\u0e0a\u0e32\u0e22\u0e40\u0e25\u0e19 \u0e1b\u0e35 2552","http://203.151.201.129/cgi-bin/mapserv",
{map:"/ms603/map/wms-dsi.map",layers:"mangrove_2552",transparent:!0},{isBaseLayer:!1,visibility:!1}),new OpenLayers.Layer.WMS("\u0e1b\u0e48\u0e32\u0e0a\u0e32\u0e22\u0e40\u0e25\u0e19 \u0e1b\u0e35 2543","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"mangrove_2543",transparent:!0},{isBaseLayer:!1,visibility:!1}),new OpenLayers.Layer.WMS("\u0e1b\u0e48\u0e32\u0e0a\u0e32\u0e22\u0e40\u0e25\u0e19 \u0e1b\u0e35 2530","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",
layers:"mangrove_2530",transparent:!0},{isBaseLayer:!1,visibility:!1}),new OpenLayers.Layer.WMS("\u0e40\u0e02\u0e15\u0e1b\u0e48\u0e32\u0e2a\u0e07\u0e27\u0e19","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"rforest",transparent:!0},{isBaseLayer:!1,visibility:!1,iconCls:"rforest"}),new OpenLayers.Layer.WMS("\u0e40\u0e02\u0e15\u0e2d\u0e38\u0e17\u0e22\u0e32\u0e19\u0e41\u0e2b\u0e48\u0e07\u0e0a\u0e32\u0e15\u0e34","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",
layers:"npark",transparent:!0},{isBaseLayer:!1,visibility:!1,iconCls:"npark"}),new OpenLayers.Layer.WMS("\u0e1e\u0e37\u0e49\u0e19\u0e17\u0e35\u0e48\u0e2a\u0e1b\u0e01.","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"no_22_spk",transparent:!0},{isBaseLayer:!1,visibility:!1}),new OpenLayers.Layer.WMS("\u0e41\u0e2b\u0e25\u0e48\u0e07\u0e41\u0e23\u0e48","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"no_14_mineral",transparent:!0},{isBaseLayer:!1,
visibility:!1}),new OpenLayers.Layer.WMS("\u0e18\u0e23\u0e13\u0e35\u0e27\u0e34\u0e17\u0e22\u0e32","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"no_13_geology",transparent:!0},{isBaseLayer:!1,visibility:!1}),new OpenLayers.Layer.WMS("\u0e2b\u0e21\u0e39\u0e48\u0e1a\u0e49\u0e32\u0e19","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"no_06_muban",transparent:!0},{isBaseLayer:!1,visibility:!1,iconCls:"village",singleTile:!0}),new OpenLayers.Layer.WMS("\u0e15\u0e33\u0e1a\u0e25",
"http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"no_04_tambon",transparent:!0},{isBaseLayer:!1,visibility:!1,iconCls:"tambon"}),new OpenLayers.Layer.WMS("\u0e2d\u0e33\u0e40\u0e20\u0e2d","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"no_03_amphoe",transparent:!0},{isBaseLayer:!1,visibility:!1,iconCls:"amphur"}),new OpenLayers.Layer.WMS("\u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",
layers:"no_02_province",transparent:!0},{isBaseLayer:!1,visibility:!1,iconCls:"changwat"}),new OpenLayers.Layer.WMS("\u0e0a\u0e31\u0e49\u0e19\u0e04\u0e27\u0e32\u0e21\u0e2a\u0e39\u0e07","http://203.151.201.129/cgi-bin/mapserv",{map:"/ms603/map/wms-dsi.map",layers:"contour",transparent:!0},{isBaseLayer:!1,visibility:!1,iconCls:"dem"}),bing_road,bing_hybrid,bing_aerial,new OpenLayers.Layer.Google("Google Hybrid",{type:google.maps.MapTypeId.HYBRID,numZoomLevels:20,sphericalMercator:!0,iconCls:"google"}),
new OpenLayers.Layer.Google("Google Physical",{type:google.maps.MapTypeId.TERRAIN,sphericalMercator:!0,iconCls:"google"}),d,hili,markers,vectorLayer],dockedItems:[{xtype:"toolbar",dock:"top",items:b}]});overlay=Ext.create("GeoExt.tree.OverlayLayerContainer",{loader:{filter:function(a){a=a.getLayer();return a.hideIntree||0==a.displayInLayerSwitcher?!1:!(!0===a.displayInLayerSwitcher&&!0===a.isBaseLayer)}}});store=Ext.create("Ext.data.TreeStore",{model:"GeoExt.data.LayerTreeModel",root:{expanded:!0,
children:[{plugins:["gx_baselayercontainer"],expanded:!1,text:"Base Maps"},{plugins:[overlay],expanded:!0}]}});tree=Ext.create("GeoExt.tree.Panel",{border:!0,title:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e0a\u0e31\u0e49\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25",width:250,split:!0,collapsible:!0,autoScroll:!0,store:store,rootVisible:!0,lines:!1});panel_west=Ext.create("Ext.Panel",{region:"west",title:'<span class="logo"><font color="red">DSIMAP</font><br />\u0e01\u0e23\u0e21\u0e2a\u0e2d\u0e1a\u0e2a\u0e27\u0e19\u0e04\u0e14\u0e35\u0e1e\u0e34\u0e40\u0e28\u0e29</span><div class="marquee">\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e20\u0e32\u0e1e\u0e41\u0e1c\u0e19\u0e17\u0e35\u0e48\u0e43\u0e0a\u0e49\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e01\u0e32\u0e23\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e40\u0e1a\u0e37\u0e49\u0e2d\u0e07\u0e15\u0e49\u0e19\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19 ...</div>',
width:270,border:!0,margins:"5 0 0 5",frame:!1,split:!0,layout:"accordion",items:[tree,gps2,gps_utm,gps_utm_indian,searchquery,loadxls],listeners:{render:{fn:function(){this.header.insert(0,{xtype:"panel",html:'<img src="img/logo_dsi.png" width="50" height="65" />'})}}}});earth=Ext.create("Ext.Panel",{region:"east",id:"id_east",margins:"5 5 0 0",width:400,layout:"fit",collapsible:!0,items:[{xtype:"gxux_googleearthpanel",id:"googleEarthPanelItem",map:map,altitude:50,heading:190,tilt:90,range:75,streetViewControl:!0}]});
Ext.create("Ext.Viewport",{layout:"fit",hideBorders:!0,items:{layout:"border",deferredRender:!1,items:[mapPanel,panel_west]}});map.setBaseLayer(bing_road);$(".marquee").marquee()}});
